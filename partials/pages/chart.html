<div id="progressBar">
	<div class="loader"></div>
</div> 
<div class="breadcrumbs">
	<ul>
		<li><a href="#/" title="">Home</a></li>
		<li><a href="#/pages/chart" title="">Charts</a></li>
	</ul>
</div>

<div class="heading-sec">
	<div class="row">
		<div class="col-md-4 column">
			<div class="heading-profile">
				<h2>Charts</h2>
				<span>Very detailed & featured admin.</span>
			</div>
		</div>
		<div class="col-md-8 column">
			<div class="top-bar-chart">
				<div class="quick-report">
					<div class="quick-report-infos">
						<p>My Balance</p>
						<h3>$21,561.21</h3>
					</div>
					<span class="bar2">5,7,4,6,9,10,13,6,5,4,7,6,5,3</span>
				</div>
				<div class="quick-report">
					<div class="quick-report-infos">
						<p>New orders</p>
						<h3>17,561</h3>
					</div>
					<span class="bar">2,3,7,4,6,9,5,4,3,4,6,4,2</span>
				</div>
			</div><!-- Top Bar Chart -->
		</div>
	</div>
</div><!-- Top Bar Chart -->

<div class="panel-content">
	<div class="row">
		<div class="col-md-12">
			<div class="widget">
				<div class="widget-controls">
					<span class="close-content"><i class="fa fa-trash-o"></i></span>
					<span class="refresh-content"><i class="fa fa-refresh"></i></span>
				</div><!-- Widget Controls -->
				<div class="activity-sec">
					<div class="widget-title">
						<h3>Activities</h3>
						<span>Your last activity is posted 4 hours ago</span>
					</div>
					<div id="graph-wrapper">
						<div class="graph-info">
							<a href="" class="visitors"><span class="red-skin"></span>Visitors</a>
							<a href="" class="returning"><span class="purple-skin"></span>Returning Visitors</a>
						</div>
						<div class="graph-container">
							<canvas id="chart"></canvas>
						</div>
						<div class="graph-details">
							<ul>
								<li><span class="red-skin">+5.00%</span><strong>$5,450</strong><p>Average of $450.35 Per Day</p></li>
								<li><span class="purple-skin">+5.00%</span><strong>1,120</strong><p>Total Visitors : 2,58,256,00</p></li>
							</ul>
						</div>
					</div>	
				</div><!-- Activity Sec -->
			</div><!-- Widget -->
		</div>
		<div class="col-md-12">
			<div class="widget">
				<div class="widget-controls">
					<span class="refresh-content"><i class="fa fa-refresh"></i></span>
				</div><!-- Widget Controls -->
				<div class="server-status-sec">
					<div class="server-details">
						<span>Server Loads</span>
						<h3><span id="number">68</span>%</h3>
						<p>4 of 9 core used</p>
						<h5>Status : <Span>GOOD</span></h5>
						<div class="server-chart">
							<div class="updating-chart">5,3,9,6,5,9,7,3,5,2,5,3,9,6,5,9,7,3,5,2</div>
						</div>
						<a href="#" title="" class="purple-skin">Optimize now</a>
					</div>
					<div id="area-chart" ></div>
				</div>
			</div><!-- Total Sales Made -->
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<div class="widget">
				<div class="pie-chart-sec">
					<div class="widget-title">
						<h3>Browser Viewed</h3>
						<span>Most Browser viewed</span>
					</div>
					<div class="most-browsers">
						<div class="pieID pie">
					    </div>
					    <ul class="pieID legend">
					      <li>
					        <em>Chrome</em>
					        <span>718</span>
					      </li>
					      <li>
					        <em>Firefox</em>
					        <span>531</span>
					      </li>
					      <li>
					        <em>Opera</em>
					        <span>868</span>
					      </li>
					      <li>
					        <em>Safari</em>
					        <span>344</span>
					      </li>
					      <li>
					        <em>Explorer</em>
					        <span>1145</span>
					      </li>
					    </ul>
					</div>
				</div>
			</div><!-- Widget -->
		</div>
		<div class="col-md-8">
			<div class="widget">
				<div class="pie-responsive">
					<div class="widget-title">
						<h3>Responsive Pie Chart</h3>
						<span>Responsive Chart</span>
					</div>
					<table id="TicketByDepartment" cellpadding="0" cellspacing="0" border="0" style="visibility: hidden;">
				    <tbody>
				      <tr>
				        <th scope="row">Store Support - 432 Tickets,</th>
				        <td>39%</td>
				      </tr>
				      <tr>
				        <th scope="row">Accounting - 432 Tickets,</th>
				        <td>16%</td>
				      </tr>
				      <tr>
				        <th scope="row">Marketing - 388 Leads,</th>
				        <td>35%</td>
				      </tr>
				      <tr>
				        <th scope="row">Others - 99 Leads,</th>
				        <td>10%</td>
				      </tr>
				    </tbody>
				  </table>

				  <div id="DonutTicketsByDepartment"></div>
				  <ul id="TicketByDepartmentLegends"></ul>
  				</div>
			</div>
		</div>
		<div class="col-md-4">
			<div class="widget">
				<div class="mini-charts">
					<div class="widget-title">
						<h3>Mini Pie Charts</h3>
						<span>Mini Charts</span>
					</div>
					<div class="pie-charts-mini">
						<span class="pie">1/5</span>
						<span class="pie">226/360</span>
						<span class="pie">0.52/1.561</span>
						<span class="pie">1,4</span>
						<span class="pie">226,134</span>
						<span class="pie">0.52,1.041</span>
						<span class="pie">1,2,3,2,2</span>
					</div>
				</div>
			</div><!-- Widget -->
		</div>
		<div class="col-md-4">
			<div class="widget">
				<div class="mini-charts">
					<div class="widget-title">
						<h3>Mini Donut Charts</h3>
						<span>Mini Charts</span>
					</div>
					<div class="pie-charts-mini">
						<span class="donut">1/5</span>
						<span class="donut">226/360</span>
						<span class="donut">0.52/1.561</span>
						<span class="donut">1,4</span>
						<span class="donut">226,134</span>
						<span class="donut">0.52,1.041</span>
						<span class="donut">1,2,3,2,2</span>
					</div>
				</div>
			</div><!-- Widget -->
		</div>
		<div class="col-md-4">
			<div class="widget">
				<div class="mini-charts">
					<div class="widget-title">
						<h3>Mini Line Charts</h3>
						<span>Mini Charts</span>
					</div>
					<div class="line-charts-mini">
						<span class="line">5,3,9,6,5,9,7,3,5,2</span>
						<span class="line">5,3,2,-1,-3,-2,2,3,5,2</span>
						<span class="line">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
						<span class="line">5,5,3,5,8,2,8,2,9,5</span>
						<span class="line">5,8,2,-5,-5,-6,3,3,5,2</span>
					</div>
				</div>
			</div><!-- Widget -->
		</div>
		<div class="col-md-4">
			<div class="widget">
				<div class="mini-charts">
					<div class="widget-title">
						<h3>Mini Bars Charts</h3>
						<span>Mini Charts</span>
					</div>
					<div class="bar-charts-mini">
						<span class="bars">5,3,9,6,5,9,7,3,5,2</span>
						<span class="bars">5,3,2,-1,-3,-2,2,3,5,2</span>
						<span class="bars">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
						<span class="bars">4,3,5,6,7,2,7,2,9,2</span>
						<span class="bars">2,6,8,-8,-5,-4,1,7,3,1</span>
					</div>
				</div>
			</div><!-- Widget -->
		</div>
		<div class="col-md-4">
			<div class="widget">
				<div class="mini-charts">
					<div class="widget-title">
						<h3>Mini Radius Charts</h3>
						<span>Mini Charts</span>
					</div>
					<div class="bar-charts-mini">
						<p class="data-attributes">
							  <span data-peity='{ "fill": ["red", "#eeeeee"],    "innerRadius": 10, "radius": 40 }'>1/7</span>
							  <span data-peity='{ "fill": ["orange", "#eeeeee"], "innerRadius": 14, "radius": 36 }'>2/7</span>
							  <span data-peity='{ "fill": ["yellow", "#eeeeee"], "innerRadius": 16, "radius": 32 }'>3/7</span>
							  <span data-peity='{ "fill": ["green", "#eeeeee"],  "innerRadius": 18, "radius": 28 }'>4/7</span>
							  <span data-peity='{ "fill": ["blue", "#eeeeee"],   "innerRadius": 20, "radius": 24 }'>5/7</span>
							  <span data-peity='{ "fill": ["indigo", "#eeeeee"], "innerRadius": 18, "radius": 20 }'>6/7</span>
							  <span data-peity='{ "fill": ["violet", "#eeeeee"], "innerRadius": 15, "radius": 16 }'>7/7</span>
							</p>
					</div>
				</div>
			</div><!-- Widget -->
		</div>
		<div class="col-md-4">
			<div class="widget">
				<div class="mini-charts">
					<div class="widget-title">
						<h3>Mini Multicolor Charts</h3>
						<span>Mini Charts</span>
					</div>
					<div class="bar-charts-mini">
						<span class="bar-colours-1">5,3,9,6,5,9,7,3,5,2</span>
						<span class="bar-colours-2">5,3,2,-1,-3,-2,2,3,5,2</span>
						<span class="bar-colours-3">0,-3,-6,-4,-5,-4,-7,-3,-5,-2</span>
						<span class="pie-colours-1">4,7,6,5</span>
						<span class="pie-colours-2">5,3,9,6,5</span>
					</div>
				</div>
			</div><!-- Widget -->
		</div>
	</div>
</div><!-- Panel Content -->

<script type="text/javascript">
    $(document).ready(function(){
    
    "use strict";
    	var values = [],
			labels = [],
			legends = true,
			legendsElement = $('#TicketByDepartmentLegends'),
		colors = ['#fcaf17','#aa85bc','#7cbe88','#e67157'];

		$("#TicketByDepartment tr").each(function () {
			values.push(parseInt($("td", this).text(), 10));
			labels.push($("th", this).text());
		});

		$("#TicketByDepartment").hide();
		var r = Raphael("DonutTicketsByDepartment", 200, 200);
			r.donutChart(100, 100, 88, 35, values, labels, colors, legends, legendsElement, colors);


    	$(".bar-colours-1").peity("bar", {
		  fill: ["red", "green", "blue"]
		})

		$(".bar-colours-2").peity("bar", {
		  fill: function(value) {
		    return value > 0 ? "green" : "red"
		  }
		})

		$(".bar-colours-3").peity("bar", {
		  fill: function(_, i, all) {
		    var g = parseInt((i / all.length) * 255)
		    return "rgb(255, " + g + ", 0)"
		  }
		})

		$(".pie-colours-1").peity("pie", {
		  fill: ["cyan", "magenta", "yellow", "black"]
		})

		$(".pie-colours-2").peity("pie", {
		  fill: function(_, i, all) {
		    var g = parseInt((i / all.length) * 255)
		    return "rgb(255, " + g + ", 0)"
		  }
		})

    	$(".data-attributes span").peity("donut")

    	$(".bars").peity("bar")

    	$(".line").peity("line")

    	$('.donut').peity('donut')

    	$("span.pie").peity("pie")

    	//*** Pie Charts ***//
		function sliceSize(dataNum, dataTotal) {
		  return (dataNum / dataTotal) * 360;
		}
		function addSlice(sliceSize, pieElement, offset, sliceID, color) {
		  $(pieElement).append("<div class='slice "+sliceID+"'><span></span></div>");
		  var offset = offset - 1;
		  var sizeRotation = -158 + sliceSize;
		  $("."+sliceID).css({
		    "transform": "rotate("+offset+"deg) translate3d(0,0,0)"
		  });
		  $("."+sliceID+" span").css({
		    "transform"       : "rotate("+sizeRotation+"deg) translate3d(0,0,0)",
		    "background-color": color
		  });
		}
		function iterateSlices(sliceSize, pieElement, offset, dataCount, sliceCount, color) {
		  var sliceID = "s"+dataCount+"-"+sliceCount;
		  var maxSize = 158;
		  if(sliceSize<=maxSize) {
		    addSlice(sliceSize, pieElement, offset, sliceID, color);
		  } else {
		    addSlice(maxSize, pieElement, offset, sliceID, color);
		    iterateSlices(sliceSize-maxSize, pieElement, offset+maxSize, dataCount, sliceCount+1, color);
		  }
		}
		function createPie(dataElement, pieElement) {
		  var listData = [];
		  $(dataElement+" span").each(function() {
		    listData.push(Number($(this).html()));
		  });
		  var listTotal = 0;
		  for(var i=0; i<listData.length; i++) {
		    listTotal += listData[i];
		  }
		  var offset = 0;
		  var color = [
		    "#bebebe", 
		    "#ffb8b8", 
		    "#ace9ff", 
		    "#b8b8ff", 
		    "#faa5ff", 
		  ];
		  for(var i=0; i<listData.length; i++) {
		    var size = sliceSize(listData[i], listTotal);
		    iterateSlices(size, pieElement, offset, i, 0, color[i]);
		    $(dataElement+" li:nth-child("+(i+1)+")").css("border-color", color[i]);
		    offset += size;
		  }
		}
		createPie(".pieID.legend", ".pieID.pie");


    	//*** Random Numbers ***//
		function generate() {
			$('#number').text(Math.floor(Math.random() * 100) + 1);
		}
		setInterval(generate, 1000);

		//*** Live Updating Chart ***//
  		var updatingChart = $(".updating-chart").peity("line", { 
  			width: ["100px"],
  			 fill: ["#b8b8ff"],
  			 stroke: ["#8181ff"],
  			 height: ["40px"]
  			})
		setInterval(function() {
		  var random = Math.round(Math.random() * 10)
		  var values = updatingChart.text().split(",")
		  values.shift()
		  values.push(random)

		  updatingChart
		    .text(values.join(","))
		    .change()
		}, 1000)

    	//*** Server Chart ***//
        var data = [
	        { y: '2005', a: 50, b: 90},
	        { y: '2006', a: 65,  b: 75},
	        { y: '2007', a: 50,  b: 50},
	        { y: '2008', a: 75,  b: 60},
	        { y: '2009', a: 80,  b: 65},
	        { y: '2010', a: 90,  b: 70},
	        { y: '2011', a: 100, b: 75},
	        { y: '2012', a: 115, b: 75},
	        { y: '2013', a: 120, b: 85},
	        { y: '2014', a: 145, b: 85},
	        { y: '2014', a: 160, b: 95}
	      ],
	      config = {
	        data: data,
	        xkey: 'y',
	        ykeys: ['a', 'b'],
	        labels: ['Server 1', 'Server 2'],
	        fillOpacity: 0.7,
	        hideHover: 'auto',
	        behaveLikeLine: true,
	        resize: true,
	        pointFillColors:['#ffffff'],
	        pointStrokeColors: ['gray'],
	        lineColors:['#b8b8ff','#ffb8b8']
	    };
	    config.element = 'area-chart';
	    Morris.Area(config);

    	//*** Activity Chart ***//
  		function updateChartData(object, data) {
		  for (var i = 0; i < data.length; i++) {
		    object[i].value = data[i];
		  }
		};

		var data = {
		    labels: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "Octuber", "Noverber", "December"],
		    datasets: [
		        {
		            label: "My First dataset",
		            fillColor: "rgba(255,162,162,0.2)",
		            strokeColor: "rgba(255,162,162,1)",
		            pointColor: "rgba(255,162,162,1)",
		            pointStrokeColor: "#fff",
		            pointHighlightFill: "#fff",
		            pointHighlightStroke: "rgba(220,220,220,1)",
		            data: [65, 59, 120, 200, 130, 100, 180, 150, 120, 170, 210, 350]
		        },
		        {
		            label: "My Second dataset",
		            fillColor: "rgba(173,173,253,0.2)",
		            strokeColor: "rgba(173,173,253,1)",
		            pointColor: "rgba(173,173,253,1)",
		            pointStrokeColor: "#fff",
		            pointHighlightFill: "#fff",
		            pointHighlightStroke: "rgba(173,173,253,1)",
		            data: [100, 200, 150, 300, 90, 180, 350, 100, 400, 200, 50, 400]
		        }
		    ]
		};

		var ctx = document.getElementById("chart").getContext("2d");
		var myLineChart = new Chart(ctx).Line(data, {
		    multiTooltipTemplate: "<%= value %>%",
		    legendTemplate: '',
		    scaleShowLabels: false,
		  scaleShowGridLines : true,
		pointDotRadius : 6,

		    //Number - Pixel width of point dot stroke
		    pointDotStrokeWidth : 2,

		    //Number - amount extra to add to the radius to cater for hit detection outside the drawn point
		    pointHitDetectionRadius : 20,
		    //String - Colour of the grid lines
		    scaleGridLineColor : "rgba(0,0,0,.0)",


		    //Boolean - Whether to show horizontal lines (except X axis)
		    scaleShowHorizontalLines: true,

		    //Boolean - Whether to show vertical lines (except Y axis)
		    scaleShowVerticalLines: true,
		});


    	//*** Piety Mini Charts ***//
    	$(function() {
  			$(".bar").peity("bar", {
			  fill: ["#ff8484"],
			  height: ["40px"],
			  width: ["94px"]
			})

			$(".bar2").peity("bar", {
			  fill: ["#9797ff"],
			  height: ["40px"],
			  width: ["94px"]
			})
  		});

    });

</script>
