<app-widgets-dropdown
        [totalUsers]="totalUsers"
        [totalMachines]="totalMachines"
        [engineerCount]="engineerCount"
        [technicianCount]="technicianCount"
></app-widgets-dropdown>

<c-card class="my-4">
    <c-card-footer>
        <c-row>
            <c-col xs>
                <!-- Users Table -->
                <c-card class="mb-4">
                    <c-card-body>
                        <table
                                [hover]="true"
                                [responsive]="true"
                                [striped]="true"
                                align="middle"
                                cTable
                                class="mb-0 border"
                        >
                            <thead class="text-nowrap text-truncate">
                            <tr>
                                <th class="bg-body-tertiary text-center">
                                    <svg cIcon name="cilPeople"></svg>
                                </th>
                                <th class="bg-body-tertiary">User</th>
                                <th class="bg-body-tertiary">Email</th>
                                <th class="bg-body-tertiary">Company</th>
                                <th class="bg-body-tertiary text-center">Preferences</th>
                                <th class="bg-body-tertiary text-center">Status</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let user of users">
                                <td class="text-center">
                                    <img [src]="user.avatar" alt="{{ user.nameSurname }}" class="c-avatar avatar-md avatar-success" />
                                </td>
                                <td>
                                    <div>{{ user.nameSurname }}</div>
                                    <div class="small text-body-secondary text-nowrap">
                                        <span>{{ user.userName }} | {{ user.userType }}</span>
                                    </div>
                                </td>
                                <td>{{ user.eMail }}</td>
                                <td>{{ user.companyName }}</td>
                                <td class="text-center">
                                    <div>Language: {{ user.preferences.language ? 'Türkçe' : 'İngilizce' }}</div>
                                    <div>Night Mode: {{ user.preferences.nightMode ? 'Enabled' : 'Disabled' }}</div>
                                </td>
                                <td class="text-center">{{ user.isActive ? 'Active' : 'Inactive' }}</td>
                            </tr>
                            </tbody>
                        </table>
                    </c-card-body>
                </c-card>

                <!-- Machines Table -->
                <c-card class="mb-4">
                    <c-card-body>
                        <table
                                [hover]="true"
                                [responsive]="true"
                                [striped]="true"
                                align="middle"
                                cTable
                                class="mb-0 border"
                        >
                            <thead class="text-nowrap text-truncate">
                            <tr>
                                <th class="bg-body-tertiary">Machine ID</th>
                                <th class="bg-body-tertiary">Owner Name</th>
                                <th class="bg-body-tertiary">Machine Type</th>
                                <th class="bg-body-tertiary">Created At</th>
                                <th class="bg-body-tertiary">Last Update</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let machine of machines">
                                <td>{{ machine.machineID }}</td>
                                <td>{{ machine.ownerName }}</td>
                                <td>{{ machine.machineType }}</td>
                                <td>{{ machine.createdAt | date:'medium' }}</td>
                                <td>{{ machine.lastUpdate ? (machine.lastUpdate | date:'medium') : 'N/A' }}</td>
                            </tr>
                            </tbody>
                        </table>
                    </c-card-body>
                </c-card>
            </c-col>
        </c-row>
    </c-card-footer>
</c-card>